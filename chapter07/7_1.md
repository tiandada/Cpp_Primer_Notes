类的基本思想是**数据抽象**和**封装**。数据抽象是一种依赖于**接口**和**实现**分离的编程（以及设计）技术。类的接口包括用户所能执行的操作；类的实现包括类的数据成员、负责接口实现的函数体以及定义类所需的各种私有函数。

封装实现了类的接口和实现的分离。封装后的类隐藏了它的实现细节，也就是说，类的用户只能使用接口而无法访问实现部分。

类要想实现数据抽象和封装，需要首先定义一个**抽象数据类型**。在抽象数据类型中，由类的设计者负责考虑类的实现过程；使用该类的程序员则只需要抽象地思考类型做了什么，而无须了解类型的工作细节。

## 7.1 定义抽象数据类型
### 7.1.1 设计Sales_data类
Sales_data的接口应该包含以下操作：
- 一个isbn成员函数，用于返回对象的ISBN编号
- 一个combine成员函数，用于将一个Sales_data对象的加法
- 一个名为add的函数，执行两个Sales_data对象的加法
- 一个read函数，将数据从istream读入到Sales_data对象中
- 一个print函数，将Sales_data对象的值输出到ostream

#### 使用改进的Sales_data类
在考虑如何实现我们的类之前，首先来看看应该如何使用上面的这些接口函数。举个例子：
```
Sales_data total;                       //保存当前求和结果的变量
if (read(cin, total))                   //读入第一笔交易
{
    Sales_data trans;                   //保存下一条交易数据的变量
    while(read(cin, trans))             //读入剩余的交易
    {
        if (total.isbn() == trans.isbn())   //检查isbn
            total.combine(trans);       //更新变量total当前的值
        else
        {
            print(cout, total) << endl;     //输出结果
            total = trans;                  //处理下一本书
        }
    }
    print(cout, total) << endl;             //输出最后一条交易
}
else                                        //没有输入任何信息
{
    cerr << "No data?!" << endl;            //通知用户
}
```
